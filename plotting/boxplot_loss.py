import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
import pandas as pd

sub003 = {

    'Walk': [0.041211175835794873, 0.04555078223347664, 0.04055452391505241, 0.0483351375230334, 0.040230570981899895],

    'UpSit': [np.nan]*5,

    'DownSit': [np.nan]*5,

    'UpStair': [0.03388768979520709, 0.03971347656960671, 0.039967461675405505, 0.04386347904801369, 0.016956994717475027],

    'DownStair': [0.010430581625550986, 0.029496324033691332, 0.03179620087146759, 0.018658651711626187, 0.01256436312242466],

}

sub004 = {

    'Walk': [0.0061575454608019855, 0.008148625958710909, 0.0055797079927288, 0.0064263125837204, 0.008059861943931193],

    'UpSit': [0.005789082259608721, 0.0033883461510413326, 0.004370895283598755, 0.0022522818930831153, 0.002916020937666389],

    'DownSit': [0.026553665196801395, 0.004437297110049294, 0.00527857195802334, 0.002056899978077575, 0.11878488170004439],

    'UpStair': [0.02219666449607096, 0.024225129280239344, 0.02501539340199426, 0.014621328252057234, 0.02446025621611625],

    'DownStair': [0.033705802030257276, 0.0348753457832517, 0.02011472805004035, 0.019538844275909167, 0.039904374008377395],

}

sub005 = {

    'Walk': [0.004421344308770801, 0.006172263732878491, 0.01036463797624622, 0.00633142889175262, 0.005300000914045282],

    'UpSit': [0.0021884854362866323, 0.002281283424790239, 0.0035767357197723218, 0.0011524166308205437, 0.0009634539875311448],

    'DownSit': [0.0343191629539417, 0.006872787262268719, 0.007552759523877478, 0.002210771533039709, 0.002611598027093957],

    'UpStair': [0.02573015156161526, 0.02462423931468617, 0.015309347305446863, 0.02295409015972506, 0.03252609325167925],

    'DownStair': [0.03406958636783418, 0.03442881865934892, 0.02727899437939579, 0.023336254568262535, 0.040035348871479866],

}

sub101 = {

    'Walk': [0.009966103404405572, 0.008983160875001808, 0.008033624632119, 0.012087037203362188, 0.011187847386505724],

    'UpSit': [0.00503217549403272, 0.0033721860663424577, 0.01514362164640001, 0.004825093845989722, 0.003811032554278007],

    'DownSit': [0.011150791042794784, 0.013996420505767068, 0.00912505653021591, 0.03763130772858858, 0.06193235092147996],

    'UpStair': [0.03391669566432635, 0.02387343752089628, 0.051165571892443966, 0.04070761861900488, 0.0310511223065692],

    'DownStair': [0.03298376928618614, 0.03240161287881758, 0.03394332473081621, 0.02850924651655886, 0.028573503451687948],

}

sub102 = {

    'Walk': [0.012013363605365156, 0.011309504508972168, 0.011018169104742508, 0.010744554835166467, 0.009522415714205376],

    'UpSit': [0.030233415595900554, 0.08296331105447269, 0.11622336316439841, 0.03240873658490416, 0.11886410141984621],

    'DownSit': [0.02797659356371466, 0.007859186229991242, 0.04042317214909764, 0.07844200924866729, 0.03573757799013572],

    'UpStair': [0.0358030591160059, 0.03254785518528837, 0.026122540649440553, 0.05816721576539909, 0.04178040666396127],

    'DownStair': [0.052840177372500706, 0.10821364902787739, 0.1102498471736908, 0.11140809593529537, 0.10992284541328748],

}
sns.set_style('darkgrid')
sns.set_context('talk')
fig, ax = plt.subplots(1, 5, figsize=(16,4.5), sharey='all')


for i, s in enumerate([sub003, sub004, sub005, sub101, sub102]):
    sub = np.sqrt(np.array(list(s.values())).T)/np.pi*180
    dfs = pd.DataFrame(sub, columns=['Walk', 'Stand Up', 'Sit Down', 'Ascend', 'Descend'])
    ch = sns.barplot(ax=ax[i], data=dfs)
    ch.set_xticklabels(ch.get_xticklabels(), rotation=60)
    ch.set_title('Subject '+str(i+1))
    if i ==0:
        ch.set_ylabel('Validation RMSE (Â°)')
plt.tight_layout()
plt.show()
print('ye')